
    model  {
    
    for (i in 1:n) { 
    
    Y[i] ~ dbin(theta[I[i]] , N[i])
    
    I[i]<-1+step(i-r) # r is the change.point
    
    }
    
    theta[1]~dbeta(a1[1],a1[2])
    theta[2]~dbeta(a2[1],a2[2])
    
    r~dcat(p[])
    
    }
    
