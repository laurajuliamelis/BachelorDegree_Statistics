libname t5 '.';

proc corr data=t5.PricesH1 cov;
 var MRK NVS PFE DB ING SAN;
run;


proc nlp tech=CONGRA;
 min z;
 parms p1=0.3, p2=0.3, p3=0.4;
 bounds 0<=p1<=1, 0<=p2<=1,0<=p3<=1;
 lincon 0.0009614*p1+0.00111*p2+0.0008482*p3>=0.001, 
        p1+p2+p3=1;
 z=0.0001059468*p1**2+0.0000780811*p2**2+0.0001016990*p3**2+2*(0.0000229063*p1*p2+0.0000435181*p1*p3+0.0000342386*p2*p3);
run;



*con r=0.5;
proc nlp tech=CONGRA;
 max z;
 parms p1=0.3, p2=0.3, p3=0.4;
 bounds 0<=p1<=1, 0<=p2<=1, 0<=p3<=1;
 lincon p1+p2+p3=1;
 z=(1-0.9)*(0.0009614*p1+0.00111*p2+0.0008482*p3)-
    0.9*(0.0001059468*p1**2+0.0000780811*p2**2+0.0001016990*p3**2+2*(0.0000229063*p1*p2+0.0000435181*p1*p3+0.0000342386*p2*p3));
run;

